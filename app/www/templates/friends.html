<ion-view view-title="Friends" ng-controller="FriendsCtrl">
	<ion-nav-buttons side="right">
		<button class="button button-icon icon ion-person-add" ng-click="showFind($event)"></button>
	</ion-nav-buttons>
	<ion-content scroll="false">
		<ion-header-bar class="bar-stable item-input-inset">
			<label class="item-input-wrapper">
				<i class="icon ion-search placeholder-icon"></i>
				<input type="text" ng-model="search" placeholder="Search">
			</label>
		</ion-header-bar>
		<ion-content>
			<!--TODO: implement deleting friends (not just requests)-->
			<div class="item item-divider">
				Requests
			</div>
			<div class="item item-avatar item-button-right" ng-repeat="friend in data('friends') | friendRequests | checkName:search"
				 ng-click="accept(friend)">
				<img ng-src="{{friend.user.avatar}}">
				{{dispName(friend.user)}}
				<p ng-show="friend.name">{{friend.user.alias}}</p>
				<div class="buttons">
					<button class="button button-round button-royal" ng-click="accept(friend)">
						<i class="icon ion-checkmark-round"></i>
					</button>
					<button class="button button-round button-stable" ng-click="reject(friend)">
						<i class="icon ion-close-round"></i>
					</button>
				</div>
			</div>
			<div class="item item-divider">
				Friends
			</div>
			<div class="item item-avatar" ng-repeat="friend in data('friends') | friends | checkName:search"
				 ng-click="profile(friend.user)">
				<img ng-src="{{friend.user.avatar}}">
				{{dispName(friend.user)}}
				<p ng-show="friend.user.name">{{friend.user.alias}}</p>
			</div>
			<div class="item item-divider">
				Awaiting Response
			</div>
			<div class="item item-avatar" ng-repeat="friend in data('friends') | pendingFriends | checkName:search">
				<img ng-src="{{friend.user.avatar}}">
				{{dispName(friend.user)}}
				<p ng-show="friend.name">{{friend.user.alias}}</p>
			</div>
		</ion-content>
	</ion-content>
</ion-view>
